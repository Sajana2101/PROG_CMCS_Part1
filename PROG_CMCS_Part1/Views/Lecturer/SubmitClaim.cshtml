@model PROG_CMCS_Part1.Models.Claim
@{
    ViewData["Title"] = "Submit Claim";
}

<h2>Submit Claim</h2>

<form asp-action="SubmitClaim" asp-controller="Lecturer" method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    <div asp-validation-summary="All" class="text-danger mb-2"></div>

    @if (TempData["FormErrors"] != null)
    {
        <div class="alert alert-warning">@TempData["FormErrors"]</div>
    }
    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success">@TempData["Success"]</div>
    }

    <div class="mb-3 col-md-4">
        <label asp-for="LecturerName">Lecturer Name:</label>
        <input asp-for="LecturerName" class="form-control" readonly />
    </div>

    <div class="mb-3 col-md-4">
        <label asp-for="ModuleCode">Module Code:</label>
        <input asp-for="ModuleCode" class="form-control" />
    </div>

    <div class="mb-3 col-md-4">
        <label asp-for="Month">Month:</label>
        <select asp-for="Month" class="form-control">
            <option value="">Select Month</option>
            @for (int m = 1; m <= 12; m++)
            {
                var monthName = new DateTime(DateTime.UtcNow.Year, m, 1).ToString("MMMM yyyy");
                <option value="@monthName" selected="@(Model.Month == monthName ? "selected" : null)">@monthName</option>
            }
        </select>
    </div>

    <div class="mb-3 col-md-4">
        <label asp-for="HoursWorked">Hours Worked:</label>
        <input asp-for="HoursWorked" class="form-control" />
        <span asp-validation-for="HoursWorked" class="text-danger"></span>
    </div>

    <div class="mb-3 col-md-4">
        <label asp-for="HourlyRate">Hourly Rate:</label>
        <input type="text" class="form-control" value="@Model.HourlyRate" readonly />
        <input type="hidden" asp-for="HourlyRate" />
    </div>


    <div class="mb-3 col-md-4">
        <label asp-for="Comments">Comments:</label>
        <textarea asp-for="Comments" class="form-control"></textarea>
    </div>

    <div class="mb-3 col-md-4">
        <label>Upload Supporting Documents:</label>
        <input type="file" name="uploadedFiles" class="form-control" multiple />
        <small class="form-text text-muted">Maximum file size per file: 5MB</small>
        <small class="form-text text-muted">Allowed file types: PDF, DOCX, DOC, XLSX, XLS, JPG, JPEG, PNG, TXT</small>
    </div>

    <div class="mt-3">
        <button type="submit" class="btn btn-success me-2">Submit</button>
        <a class="btn btn-secondary" href="/Lecturer/Dashboard">Back to Dashboard</a>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
